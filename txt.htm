<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta name="wechat-enable-text-zoom-em" content="true">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="color-scheme" content="light dark">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0,viewport-fit=cover">
    <link rel="shortcut icon" type="image/x-icon" href="//res.wx.qq.com/a/wx_fed/assets/res/NTI4MWU5.ico" reportloaderror>
    <link rel="mask-icon" href="//res.wx.qq.com/a/wx_fed/assets/res/MjliNWVm.svg" color="#4C4C4C" reportloaderror>
    <link rel="apple-touch-icon-precomposed" href="//res.wx.qq.com/a/wx_fed/assets/res/OTE0YTAw.png" reportloaderror>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <meta name="referrer" content="origin-when-cross-origin">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <title>加载中...</title>
    <script>
        var adjectives = [
            'api', 'cdn', 'static', 'assets', 'fast', 'quick', 'new', 'good', 'data', 'web', 'hot', 'red', 'blue', 'dark', 'sky', 'sun', 'moon', 'star', 'green', 'cold', 'slow', 'big', 'tiny',
            'active', 'agile', 'alpha', 'apex', 'aqua', 'arc', 'atlas', 'aura', 'azure', 'beam', 'beta', 'blaze', 'bliss', 'bolt', 'breeze', 'bright', 'brisk', 'broad', 'calm',
            'case', 'centric', 'clear', 'clever', 'core', 'cosmic', 'cozy', 'crest', 'crystal', 'cubic', 'dawn', 'delta', 'dense', 'dew', 'direct', 'drift', 'dynamic', 'echo',
            'edge', 'ember', 'epic', 'equal', 'ethereal', 'even', 'ever', 'fair', 'fancy', 'fine', 'firm', 'first', 'flame', 'flash', 'fleet', 'flex', 'flora', 'flow', 'fluid',
            'flux', 'focus', 'fog', 'forest', 'forte', 'fresh', 'frost', 'fusion', 'galaxy', 'gamma', 'gem', 'giga', 'glade', 'glass', 'glide', 'glow', 'golden', 'grace',
            'grand', 'graph', 'great', 'grid', 'halo', 'happy', 'helix', 'high', 'honest', 'hope', 'horizon', 'ice', 'icon', 'ideal', 'image', 'inner', 'ionic', 'ivory',
            'jade', 'jet', 'jolly', 'joy', 'keen', 'key', 'kind', 'lunar', 'laser', 'lava', 'level', 'light', 'lime', 'live', 'logic', 'luna', 'luxe', 'magic', 'main',
            'major', 'maple', 'marble', 'matrix', 'max', 'meadow', 'mega', 'mellow', 'merge', 'meta', 'meteor', 'micro', 'mighty', 'mind', 'mint', 'mist', 'mixed', 'mocha',
            'model', 'modern', 'mono', 'motive', 'multi', 'mutual', 'nano', 'native', 'neon', 'nexus', 'next', 'night', 'noble', 'nova', 'oasis', 'ocean', 'olive', 'omega',
            'omni', 'onyx', 'open', 'optic', 'oracle', 'orbit', 'origin', 'outer', 'pacific', 'parallel', 'peak', 'penta', 'petal', 'phase', 'phoenix', 'pine', 'pioneer',
            'pixel', 'plain', 'plasma', 'polar', 'pool', 'prime', 'prism', 'pro', 'proto', 'pulse', 'pure', 'quantum', 'quest', 'radiant', 'rain', 'rapid', 'raven', 'real',
            'relay', 'rich', 'rise', 'river', 'royal', 'ruby', 'safe', 'sage', 'sapphire', 'savvy', 'scope', 'sea', 'secret', 'secure', 'sense', 'serene', 'sharp', 'shell',
            'shift', 'shine', 'sigma', 'signal', 'silver', 'simple', 'site', 'skill', 'smart', 'smoke', 'smooth', 'snow', 'solar', 'solid', 'sonic', 'source', 'spark',
            'sphere', 'spirit', 'spring', 'stable', 'status', 'steel', 'stellar', 'still', 'stone', 'storm', 'strand', 'stream', 'strong', 'summit', 'super', 'sure', 'swift',
            'sync', 'synchro', 'terra', 'tetra', 'tidal', 'tiger', 'time', 'topaz', 'total', 'trail', 'tranquil', 'tundra', 'turbo', 'twin', 'ultra', 'union', 'unique', 'unity',
            'uplink', 'urban', 'valid', 'valley', 'vector', 'vega', 'velvet', 'vertex', 'nexus', 'victory', 'view', 'virtual', 'vista', 'vital', 'vivid', 'vortex', 'wave',
            'white', 'wide', 'windy', 'wise', 'witty', 'x-factor', 'xenon', 'yara', 'zen', 'zenith', 'zephyr', 'zero', 'zulu'
        ];

        var nouns = [
            'link', 'node', 'hub', 'data', 'user', 'info', 'conn', 'line', 'river', 'sky', 'cloud', 'tree', 'wind', 'leaf', 'fire', 'water', 'earth', 'center', 'space',
            'access', 'account', 'action', 'anchor', 'apex', 'arc', 'archive', 'area', 'arm', 'arrow', 'atom', 'aurora', 'axis', 'badge', 'base', 'basin', 'beacon',
            'beam', 'belt', 'blade', 'block', 'board', 'bond', 'box', 'branch', 'bridge', 'brook', 'bubble', 'build', 'bunker', 'cache', 'capsule', 'card', 'cascade',
            'case', 'cell', 'chamber', 'channel', 'charm', 'charter', 'chip', 'chord', 'circuit', 'citadel', 'class', 'cluster', 'code', 'coil', 'column', 'comet', 'command',
            'compass', 'complex', 'concept', 'cone', 'core', 'corner', 'corridor', 'cortex', 'cosmos', 'cove', 'craft', 'crater', 'crest', 'crew', 'cross', 'crown',
            'crystal', 'cube', 'current', 'curve', 'cycle', 'cylinder', 'dash', 'deck', 'delta', 'depot', 'design', 'device', 'dew', 'dial', 'digit', 'dimension', 'disc',
            'disk', 'dock', 'domain', 'dome', 'door', 'dot', 'dragon', 'drive', 'drop', 'dune', 'duty', 'echo', 'edge', 'effect', 'element', 'elixir', 'engine', 'entity',
            'epoch', 'era', 'essence', 'event', 'expanse', 'factor', 'faculty', 'field', 'file', 'filter', 'flag', 'flare', 'fleet', 'flow', 'flux', 'focus', 'folio',
            'force', 'form', 'format', 'formula', 'fort', 'forum', 'foundry', 'frame', 'front', 'frontier', 'fuel', 'funnel', 'fusion', 'gadget', 'galaxy', 'gallery', 'game',
            'gate', 'gateway', 'gem', 'gen', 'genesis', 'giga', 'glacier', 'globe', 'glyph', 'goal', 'grade', 'grain', 'graph', 'grid', 'group', 'guard', 'guide', 'harbor',
            'haven', 'heart', 'helix', 'helm', 'hive', 'home', 'horizon', 'host', 'icon', 'idea', 'image', 'impact', 'index', 'ingot', 'ink', 'insight', 'jet', 'journey',
            'key', 'kit', 'lab', 'lair', 'lamp', 'lane', 'layer', 'launch', 'lens', 'level', 'lever', 'life', 'light', 'limit', 'lineage', 'logic', 'loop', 'lore', 'machine',
            'magnet', 'main', 'manifest', 'map', 'mark', 'market', 'mask', 'matrix', 'matter', 'maze', 'measure', 'mechanic', 'media', 'memory', 'merge', 'mesh', 'meta',
            'method', 'mile', 'mind', 'mirror', 'mission', 'mix', 'mode', 'model', 'module', 'moment', 'monitor', 'mood', 'moon', 'morning', 'motion', 'motor', 'mound',
            'mountain', 'move', 'mural', 'myth', 'name', 'nation', 'navigator', 'nebula', 'net', 'network', 'nexus', 'niche', 'night', 'nova', 'nucleus', 'number', 'object',
            'observer', 'ocean', 'operation', 'orb', 'orbit', 'order', 'origin', 'outline', 'pad', 'page', 'panel', 'paradigm', 'paradise', 'park', 'part', 'particle', 'pass',
            'passage', 'path', 'pattern', 'pegasus', 'pendant', 'perspective', 'phase', 'phenomenon', 'phoenix', 'phone', 'pillar', 'pilot', 'pin', 'pine', 'pinnacle',
            'pioneer', 'pipe', 'pipeline', 'pivot', 'pixel', 'place', 'plan', 'plane', 'planet', 'plant', 'platform', 'player', 'plexus', 'plot', 'point', 'pool', 'port',
            'portal', 'post', 'power', 'presence', 'prism', 'probe', 'process', 'profile', 'program', 'progress', 'project', 'prompt', 'protocol', 'pulse', 'pump', 'puzzle',
            'pyramid', 'quadrant', 'quality', 'query', 'quest', 'radar', 'radius', 'range', 'rank', 'ray', 'reach', 'realm', 'receiver', 'record', 'reel', 'refuge', 'region',
            'relay', 'report', 'reserve', 'resolve', 'resource', 'response', 'result', 'retreat', 'ring', 'rise', 'rite', 'ritual', 'road', 'robot', 'rock', 'rocket', 'role',
            'root', 'rope', 'roster', 'route', 'rover', 'rule', 'run', 'rune', 'safe', 'saga', 'sail', 'sanctuary', 'sand', 'satellite', 'scale', 'scan', 'scanner', 'scene',
            'scheme', 'scope', 'score', 'scout', 'screen', 'script', 'scroll', 'seal', 'search', 'season', 'seat', 'secret', 'section', 'sector', 'seed', 'segment', 'sense',
            'sensor', 'sequence', 'series', 'server', 'service', 'session', 'set', 'setting', 'shard', 'shell', 'shelter', 'shield', 'shift', 'ship', 'show', 'shuttle',
            'side', 'sight', 'signal', 'signature', 'site', 'size', 'skill', 'slice', 'slot', 'snow', 'solution', 'sonar', 'song', 'soul', 'sound', 'source', 'spade', 'span',
            'spark', 'special', 'spectrum', 'speed', 'sphere', 'spike', 'spire', 'spirit', 'spoke', 'spool', 'spot', 'spring', 'sprint', 'squad', 'square', 'stack', 'stage',
            'stalk', 'stand', 'star', 'state', 'station', 'status', 'step', 'stone', 'stop', 'storage', 'storm', 'story', 'strand', 'strata', 'stream', 'street', 'strike',
            'string', 'structure', 'study', 'style', 'substance', 'summit', 'sun', 'supernova', 'support', 'surge', 'survey', 'switch', 'symbol', 'synergy', 'synthesis', 'system',
            'tactic', 'tag', 'talent', 'talisman', 'target', 'task', 'team', 'tech', 'technique', 'template', 'temple', 'tenant', 'terminal', 'terrain', 'test', 'tether', 'text',
            'theme', 'theory', 'thread', 'threshold', 'throne', 'ticket', 'tide', 'tier', 'time', 'timeline', 'timer', 'token', 'tool', 'top', 'topic', 'torch', 'tower',
            'trace', 'track', 'trade', 'tradition', 'traffic', 'trail', 'train', 'trait', 'trance', 'transfer', 'transit', 'transmission', 'transport', 'trap', 'travel',
            'treasure', 'treaty', 'trend', 'trial', 'tribe', 'tribute', 'trick', 'trigger', 'trinity', 'trip', 'triumph', 'trophy', 'troupe', 'truck', 'trumpet', 'trunk',
            'trust', 'truth', 'tube', 'tune', 'tunnel', 'turn', 'tutor', 'twin', 'twist', 'type', 'ultimate', 'union', 'unit', 'universe', 'update', 'utility', 'vacuum',
            'vale', 'valley', 'value', 'valve', 'vanguard', 'vault', 'vector', 'vehicle', 'veil', 'vein', 'venture', 'venue', 'verge', 'version', 'vessel', 'view', 'viewer',
            'village', 'vine', 'vision', 'visitor', 'vista', 'voice', 'void', 'volume', 'voyage', 'wall', 'wand', 'ward', 'watch', 'wave', 'way', 'weather', 'web', 'well',
            'wheel', 'whip', 'whisper', 'wing', 'wire', 'wish', 'wizard', 'word', 'work', 'workbench', 'world', 'wormhole', 'writer', 'yard', 'year', 'yield', 'yoke',
            'zone'
        ];

        // 4. 错误提示多样化
        var errorTips = ['网络异常，请重试', '页面加载失败，请重试', '连接超时，请重试', '网络波动，请重试', '请求失败，请重试'];
        function getRandomErrorTip() {
            return errorTips[Math.floor(Math.random() * errorTips.length)];
        }
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            border: 0;
            box-sizing: border-box;
        }
        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        h3 {
            text-align: center;
            margin-top: 150px;
        }
        #loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #fff;
            z-index: 9999;
        }
        iframe {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }
        /* 高级脉冲圆点动画 */
        .pulse-loader {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 48px;
        }
        .pulse-loader span {
            display: block;
            width: 12px;
            height: 12px;
            margin: 0 6px;
            background: #409EFF;
            border-radius: 50%;
            opacity: 0.7;
            animation: pulse 1.2s infinite ease-in-out;
        }
        .pulse-loader span:nth-child(2) {
            animation-delay: 0.2s;
        }
        .pulse-loader span:nth-child(3) {
            animation-delay: 0.4s;
        }
        @keyframes pulse {
            0%, 80%, 100% {
                transform: scale(0.8);
                opacity: 0.5;
            }
            40% {
                transform: scale(1.2);
                opacity: 1;
            }
        }
    </style>
    <script>
        function isWeChat() {
            return /MicroMessenger/i.test(navigator.userAgent);
        }

        function getQueryParam(param) {
            var urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        function loadJSONP(url, callbackName) {
            var script = document.createElement('script');
            script.src = url + '&callback=' + callbackName;
            script.onload = function() { document.body.removeChild(script); };
            document.body.appendChild(script);
        }

        function displayMessage(title, message) {
            document.title = title;
            document.body.innerHTML = '<h3>' + message + '</h3>';
        }

        function handleResponse(response) {
            if (response.code === 0) {
                var url = response.data_jumplink;
                if (isWeChat()) {
                    document.title = response.data_title;
                    var appDiv = document.getElementById('app');
                    var loaderDiv = document.getElementById('loader');
                    var iframe = document.createElement('iframe');
                    iframe.src = url;
                    iframe.frameBorder = '0';
                    iframe.allow = 'microphone; camera; autoplay; fullscreen';
                    iframe.referrerPolicy = 'no-referrer';
                    iframe.style.width = '100%';
                    iframe.style.height = '100%';
                    iframe.style.position = 'absolute';
                    iframe.style.top = '0';
                    iframe.style.left = '0';

                    iframe.onload = function() {
                        loaderDiv.style.display = 'none';
                        appDiv.style.display = 'block';
                    };
                    
                    iframe.onerror = function() {
                        loaderDiv.innerHTML = '<div style="color:#c00;text-align:center;margin-top:150px;">' + getRandomErrorTip() + '</div>';
                    };

                    appDiv.innerHTML = '';
                    appDiv.appendChild(iframe);
                    appDiv.style.display = 'none';
                } else {
                    // 非微信环境用直接跳转
                    var a = document.createElement('a');
                    a.href = url;
                    a.rel = 'noreferrer';
                    a.style.display = 'none';
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                }
            } else {
                displayMessage('提示', response.msg || getRandomErrorTip());
            }
        }

        window.onload = function() {
            var key = getQueryParam('key');
            if (!key) {
                displayMessage('提示', '参数为空');
                return;
            }
            // 修改域名和目录（请确保已经配置了SSL）
            // 假设你的域名是：www.baidu.com
            // 你将引流宝安装在根目录，则将{域名}替换为 www.baidu.com
            // 如果安装在二级目录，需加上二级目录名，例如二级目录名为ylb
            // 则将{域名}替换为 www.baidu.com/ylb
            // -------------------------------------------------------------------
            // 文档：https://viusosibp88.feishu.cn/docx/JJVwdZ3aQoh6btxqCWCc2gYjnPe
            // -------------------------------------------------------------------
            
            // --- 语义化子域名生成策略 ---
            // 单词列表已从 "words.js" 中加载

            // 1. 从每个列表中随机选择一个单词
            var randomAdjective = adjectives[Math.floor(Math.random() * adjectives.length)];
            var randomNoun = nouns[Math.floor(Math.random() * nouns.length)];

            // 2. 组合成子域名
            var randomSubdomain = randomAdjective + '-' + randomNoun;

            // 3. 拼接成最终的请求URL (ES5 兼容性)
            var apiUrl = 'https://' + randomSubdomain + '.sycc.cc/common/wxdmqkCallBack/?key=' + key;

            // 3. JSONP回调名随机化
            var randomCallbackName = 'cb_' + Math.random().toString(36).substring(2, 10);
            window[randomCallbackName] = function(response) {
                handleResponse(response);
                try {
                    delete window[randomCallbackName];
                } catch (e) {
                    window[randomCallbackName] = undefined;
                }
            };

            loadJSONP(apiUrl, randomCallbackName);
        };
    </script>
</head>
<body>
    <div id="loader">
        <div style="text-align:center;">
            <div class="pulse-loader">
                <span></span><span></span><span></span>
            </div>
        </div>
    </div>
    <div id="app"></div>
</body>
</html>
